# UI Mockups - Version 1.2.0 New Features

**Version:** 1.2.0  
**Date:** 2026-01-22  
**Purpose:** Visual guide for new features

---

## 1. Dashboard with Sorting & Checklist

### Enhanced Dashboard Table

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bookings Dashboard                                                    [+ Add New Booking]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [List View] [Calendar View]                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚ â˜ | ID  | Customer â†•    | Email          | Start Date â†“  | End Date    | Cost    | Progress      | Status   | Actions â”‚
â”‚â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â˜ | 125 | Jane Smith    | jane@email.com | Jan 29, 10AM  | Jan 29, 2PM | $400.00 | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 80% | Approved | [Edit]  â”‚
â”‚ â˜ | -   | [BLACKOUT]    | -              | Jan 26        | Jan 28      | -       | -             | Blacked  | [Remove]â”‚
â”‚ â˜ | 123 | John Doe      | john@email.com | Jan 25, 2PM   | Jan 25, 6PM | $400.00 | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 60% | Approved | [Edit]  â”‚
â”‚ â˜ | 122 | Bob Johnson   | bob@email.com  | Jan 24, 9AM   | Jan 24, 5PM | $800.00 | â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ 40% | Pending  | [Approve]â”‚
â”‚                                                                                          â”‚
â”‚ [Bulk Actions â–¼] [Apply]                                          Showing 1-10 of 45    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- â†• = Sortable column (click to sort)
- â†“ = Currently sorted descending
- Progress bar shows checklist completion
- Blackout entries highlighted in red
- Sortable by: Customer, Start Date, Cost, Status

---

## 2. Booking Edit Page with Checklist

### New Meta Box: Booking Approval Checklist

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Booking                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Booking Details                                         â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ Start Date/Time: [2026-01-25] [14:00]                  â”‚ â”‚
â”‚ â”‚ End Date/Time:   [2026-01-25] [18:00]                  â”‚ â”‚
â”‚ â”‚ Estimated Cost:  $400.00                                â”‚ â”‚
â”‚ â”‚ Guest Count:     [4]                                    â”‚ â”‚
â”‚ â”‚ Description:     [Birthday party...]                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Booking Approval Checklist                              â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Overall Progress:                                        â”‚ â”‚
â”‚ â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 60% Complete           â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ â˜‘ Rental Agreement Signed                               â”‚ â”‚
â”‚ â”‚ â˜‘ Deposit Received                                      â”‚ â”‚
â”‚ â”‚ â˜‘ Certificate of Insurance                              â”‚ â”‚
â”‚ â”‚ â˜ Key Arrangement Confirmed                             â”‚ â”‚
â”‚ â”‚ â˜ Deposit Returned                                      â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Last Updated: Jan 22, 2026 at 3:45 PM                   â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ [Update Booking] [Save Changes]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Visual progress bar
- Checkboxes auto-save via AJAX
- Progress updates in real-time
- Last updated timestamp
- Clear "Save Changes" button for booking details

---

## 3. Settings Page - OAuth Integration

### Google Calendar Settings (New OAuth Version)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Calendar Integration (OAuth 2.0)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ OAuth Client ID:                                                 â”‚
â”‚ [_____________________________________________]                  â”‚
â”‚ Get this from Google Cloud Console                              â”‚
â”‚                                                                  â”‚
â”‚ OAuth Client Secret:                                             â”‚
â”‚ [_____________________________________________]                  â”‚
â”‚ Keep this secret and secure                                      â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Authorization Status                                        â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ Status: âœ… Authorized                                        â”‚ â”‚
â”‚ â”‚ Account: admin@yourdomain.com                                â”‚ â”‚
â”‚ â”‚ Calendar: Primary Calendar                                   â”‚ â”‚
â”‚ â”‚ Authorized: Jan 22, 2026 at 3:45 PM                         â”‚ â”‚
â”‚ â”‚ Token Expires: Jan 29, 2026 at 3:45 PM                      â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ [Disconnect from Google] [Test Connection]                  â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ OR (if not authorized):                                          â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Status: âŒ Not Authorized                                    â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ [ğŸ”— Authorize with Google]                                   â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ Click to connect your Google Calendar                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ Calendar ID:                                                     â”‚
â”‚ [primary                          ] â–¼                            â”‚
â”‚ Use "primary" for your main calendar                            â”‚
â”‚                                                                  â”‚
â”‚ Sync Status:                                                     â”‚
â”‚ â˜‘ Approved bookings                                             â”‚
â”‚ â˜ Pending bookings                                              â”‚
â”‚ â˜ Cancelled bookings                                            â”‚
â”‚                                                                  â”‚
â”‚ [Save Settings]                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Clear authorization status
- One-click "Authorize with Google" button
- Shows connected account email
- Token expiration warning
- Easy disconnect option
- No more JSON key management!

---

## 4. Settings Page - Overnight Booking Times

### Overnight Booking Configuration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Overnight Booking Times                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ Configure different overnight times for each day of the week:    â”‚
â”‚                                                                  â”‚
â”‚ Day       | Start Time | End Time (Next Day) | Enabled          â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Monday    | [22:00] â–¼  | [10:00] â–¼           | â˜‘               â”‚
â”‚ Tuesday   | [22:00] â–¼  | [10:00] â–¼           | â˜‘               â”‚
â”‚ Wednesday | [22:00] â–¼  | [10:00] â–¼           | â˜‘               â”‚
â”‚ Thursday  | [22:00] â–¼  | [10:00] â–¼           | â˜‘               â”‚
â”‚ Friday    | [23:00] â–¼  | [11:00] â–¼           | â˜‘               â”‚
â”‚ Saturday  | [23:00] â–¼  | [11:00] â–¼           | â˜‘               â”‚
â”‚ Sunday    | [22:00] â–¼  | [10:00] â–¼           | â˜‘               â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Special Date Overrides                                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ Override overnight times for specific dates:                 â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ Date       | Start Time | End Time | Reason        | Action â”‚ â”‚
â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚ â”‚ 2026-12-24 | 20:00      | 08:00    | Christmas Eve | [Del]  â”‚ â”‚
â”‚ â”‚ 2026-12-31 | 23:00      | 12:00    | New Year's    | [Del]  â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ Add New Override:                                            â”‚ â”‚
â”‚ â”‚ Date: [2026-01-01] Start: [00:00] End: [12:00]              â”‚ â”‚
â”‚ â”‚ Reason: [New Year's Day]                                     â”‚ â”‚
â”‚ â”‚ [+ Add Override]                                             â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ [Save Settings]                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Per-day overnight times
- Enable/disable overnight per day
- Special date overrides with reason
- Easy to add/remove overrides
- Clear visual hierarchy

---

## 5. Settings Page - Blackout Dates Calendar

### Blackout Dates Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Blackout Dates                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ Select dates or ranges when bookings are not available:         â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                    January 2026                             â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚  Su  Mo  Tu  We  Th  Fr  Sa                                 â”‚ â”‚
â”‚ â”‚            1   2   3   4   5                                â”‚ â”‚
â”‚ â”‚   6   7   8   9  10  11  12                                â”‚ â”‚
â”‚ â”‚  13  14  15  16  17  18  19                                â”‚ â”‚
â”‚ â”‚  20  21  22  23  24 [25][26]                               â”‚ â”‚
â”‚ â”‚ [27][28] 29  30  31                                         â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚  [< December]              [February >]                      â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚  [25] = Selected date (red background)                       â”‚ â”‚
â”‚ â”‚  Click to select, click again to deselect                    â”‚ â”‚
â”‚ â”‚  Shift+click to select range                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ Quick Add Range:                                                 â”‚
â”‚ From: [2026-01-25] To: [2026-01-28]                             â”‚
â”‚ Reason: [Maintenance work]                                       â”‚
â”‚ [+ Add Blackout Range]                                           â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Current Blackout Periods                                    â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ â€¢ Jan 25-28, 2026 - Maintenance work          [Remove]      â”‚ â”‚
â”‚ â”‚ â€¢ Dec 24, 2026 - Christmas Eve                [Remove]      â”‚ â”‚
â”‚ â”‚ â€¢ Dec 31, 2026 - New Year's Eve               [Remove]      â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ Total: 6 days blacked out                                    â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ [Save Blackout Dates]                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Visual calendar with date selection
- Click to select single dates
- Shift+click for ranges
- Quick add form for ranges
- List of current blackout periods
- Reason field for each period
- Easy remove buttons

---

## 6. Dashboard with Blackout Entries

### Mixed View: Bookings + Blackouts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bookings Dashboard                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚ Filters: [All (45)] | [Pending (5)] | [Approved (35)] | [Blacked Out (6)] | [Expired (2)]â”‚
â”‚                                                                                          â”‚
â”‚ â˜ | Type      | Customer    | Start Date â†“  | End Date    | Cost    | Progress | Status      | Actions â”‚
â”‚â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â˜ | Booking   | Jane Smith  | Jan 29, 10AM  | Jan 29, 2PM | $400.00 | â–ˆâ–ˆâ–ˆâ–ˆ 80% | Approved    | [Edit]  â”‚
â”‚ - | Blackout  | -           | Jan 28        | Jan 28      | -       | -        | Blacked Out | [Remove]â”‚
â”‚ - | Blackout  | -           | Jan 27        | Jan 27      | -       | -        | Blacked Out | [Remove]â”‚
â”‚ - | Blackout  | -           | Jan 26        | Jan 26      | -       | -        | Blacked Out | [Remove]â”‚
â”‚ â˜ | Booking   | John Doe    | Jan 25, 2PM   | Jan 25, 6PM | $400.00 | â–ˆâ–ˆâ–ˆâ–‘ 60% | Approved    | [Edit]  â”‚
â”‚ â˜ | Booking   | Bob Johnson | Jan 24, 9AM   | Jan 24, 5PM | $800.00 | â–ˆâ–ˆâ–‘â–‘ 40% | Pending     | [Approve]â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Blackout entries shown inline with bookings
- Sorted by date (chronological)
- Different background color for blackouts
- No checkbox for blackouts (can't bulk action)
- Remove button for each blackout day
- Filter to show only blackouts

---

## 7. Booking Edit Page - Fixed Save Functionality

### Before (Broken)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Booking                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Booking details fields...]          â”‚
â”‚                                      â”‚
â”‚ [Update] <- WordPress default button â”‚
â”‚            (doesn't save meta!)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After (Fixed)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Booking                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Booking details fields...]                              â”‚
â”‚                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš ï¸ Unsaved Changes                                   â”‚ â”‚
â”‚ â”‚ You have made changes. Click "Save Changes" below.   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚ [ğŸ’¾ Save Changes] [Cancel]                              â”‚
â”‚                                                          â”‚
â”‚ âœ… Booking updated successfully! (after save)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Clear "Save Changes" button
- Unsaved changes warning
- Success message after save
- Cancel button to revert
- Auto-save draft every 30 seconds

---

## 8. OAuth Authorization Flow

### Step-by-Step User Experience

#### Step 1: Settings Page (Not Authorized)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Calendar Integration          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: âŒ Not Connected             â”‚
â”‚                                      â”‚
â”‚ [ğŸ”— Authorize with Google]           â”‚
â”‚                                      â”‚
â”‚ Click to connect your calendar       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 2: Google Authorization Page
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Account                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Simplified Booking wants to:         â”‚
â”‚                                      â”‚
â”‚ âœ“ View and edit your calendars      â”‚
â”‚                                      â”‚
â”‚ [Allow] [Cancel]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 3: Redirect Back (Success)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Authorization Successful!         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Your Google Calendar is now          â”‚
â”‚ connected!                           â”‚
â”‚                                      â”‚
â”‚ Redirecting to settings...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 4: Settings Page (Authorized)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Calendar Integration          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status: âœ… Connected                 â”‚
â”‚ Account: admin@yourdomain.com        â”‚
â”‚                                      â”‚
â”‚ [Test Connection] [Disconnect]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Progress Bar Styles

### Checklist Progress Bar Variations

**0% Complete (Nothing done)**
```
[â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%
```

**20% Complete (1 of 5 items)**
```
[â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 20%
```

**60% Complete (3 of 5 items)**
```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 60%
```

**100% Complete (All items)**
```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ“
```

**Color Coding:**
- 0-33%: Red (#d63638)
- 34-66%: Orange (#dba617)
- 67-99%: Blue (#2271b1)
- 100%: Green (#00a32a)

---

## 10. Sorting Indicators

### Column Header States

**Not Sorted:**
```
Start Date â†•
```

**Sorted Ascending:**
```
Start Date â†‘
```

**Sorted Descending:**
```
Start Date â†“
```

**Hover State:**
```
Start Date â†•  (cursor: pointer, underline)
```

---

## Technical Implementation Notes

### CSS Classes

```css
/* Progress Bar */
.booking-progress-bar {
    width: 100%;
    height: 20px;
    background: #f0f0f1;
    border-radius: 10px;
    overflow: hidden;
}

.booking-progress-fill {
    height: 100%;
    transition: width 0.3s ease;
}

.progress-0-33 { background: #d63638; }
.progress-34-66 { background: #dba617; }
.progress-67-99 { background: #2271b1; }
.progress-100 { background: #00a32a; }

/* Blackout Entry */
.blackout-entry {
    background: #fcf0f1 !important;
}

.blackout-entry td {
    color: #d63638;
}

/* Sortable Headers */
.sortable {
    cursor: pointer;
    user-select: none;
}

.sortable:hover {
    text-decoration: underline;
}

.sort-indicator {
    font-size: 12px;
    color: #999;
}
```

### JavaScript Patterns

**Auto-save checklist:**
```javascript
document.querySelectorAll('.checklist-item').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const bookingId = this.dataset.bookingId;
        const item = this.dataset.item;
        const checked = this.checked;
        
        // Show loading
        showLoading();
        
        // AJAX save
        jQuery.post(ajaxurl, {
            action: 'update_booking_checklist',
            booking_id: bookingId,
            item: item,
            checked: checked,
            nonce: antigravity_nonce
        }, function(response) {
            if (response.success) {
                updateProgressBar(response.data.progress);
                showSuccess('Checklist updated');
            }
        });
    });
});
```

---

## Database Migration Plan

### Migration on Plugin Update

**File:** `includes/class-antigravity-booking-activator.php`

**Add version check:**
```php
public static function activate() {
    $current_version = get_option('antigravity_booking_db_version', '0');
    
    if (version_compare($current_version, '1.2.0', '<')) {
        self::migrate_to_1_2_0();
    }
    
    update_option('antigravity_booking_db_version', '1.2.0');
}

private static function migrate_to_1_2_0() {
    // 1. Convert blackout dates from text to CPT
    self::migrate_blackout_dates();
    
    // 2. Initialize checklist for existing bookings
    self::initialize_checklists();
    
    // 3. Set default overnight times
    self::set_default_overnight_times();
}
```

### Blackout Dates Migration

```php
private static function migrate_blackout_dates() {
    $old_blackouts = get_option('antigravity_booking_blackout_dates', '');
    
    if (empty($old_blackouts)) {
        return;
    }
    
    $dates = explode("\n", $old_blackouts);
    
    foreach ($dates as $date) {
        $date = trim($date);
        if (empty($date)) continue;
        
        // Create blackout_date post
        $post_id = wp_insert_post(array(
            'post_title' => 'Blackout: ' . $date,
            'post_type' => 'blackout_date',
            'post_status' => 'publish',
        ));
        
        update_post_meta($post_id, '_blackout_start_date', $date);
        update_post_meta($post_id, '_blackout_end_date', $date);
        update_post_meta($post_id, '_blackout_reason', 'Migrated from v1.1');
    }
    
    // Keep old option as backup
    update_option('antigravity_booking_blackout_dates_backup', $old_blackouts);
}
```

---

## API Endpoints Summary

### New AJAX Endpoints

| Endpoint | Purpose | Nonce | Capability |
|----------|---------|-------|------------|
| `update_booking_checklist` | Save checklist item | Yes | `edit_post` |
| `add_blackout_date` | Create blackout period | Yes | `manage_options` |
| `remove_blackout_date` | Delete blackout period | Yes | `manage_options` |
| `get_blackout_dates` | Fetch all blackouts | Yes | Public |
| `add_special_hours` | Add date override | Yes | `manage_options` |
| `remove_special_hours` | Remove date override | Yes | `manage_options` |
| `oauth_disconnect` | Disconnect Google | Yes | `manage_options` |

---

## Security Checklist

### OAuth Security
- âœ… State parameter to prevent CSRF
- âœ… Encrypt refresh token before storage
- âœ… Validate redirect URI
- âœ… Check nonce on disconnect
- âœ… Capability check (`manage_options`)

### Checklist Security
- âœ… Verify booking exists
- âœ… Check user can edit booking
- âœ… Sanitize all inputs
- âœ… Validate boolean values

### Blackout Dates Security
- âœ… Validate date formats
- âœ… Ensure end >= start
- âœ… Sanitize reason text
- âœ… Capability check on add/remove

---

## Performance Optimization

### Caching Strategy

**Blackout Dates:**
```php
// Cache for 1 hour (rarely change)
$blackouts = wp_cache_get('antigravity_blackout_dates');
if ($blackouts === false) {
    $blackouts = get_posts(array('post_type' => 'blackout_date'));
    wp_cache_set('antigravity_blackout_dates', $blackouts, '', 3600);
}
```

**Checklist Progress:**
```php
// Cache progress calculation
$progress = get_post_meta($booking_id, '_checklist_progress', true);
if ($progress === '') {
    $progress = $this->calculate_progress($booking_id);
    update_post_meta($booking_id, '_checklist_progress', $progress);
}
```

---

## User Documentation Needed

### For End Users

1. **How to authorize Google Calendar** (with screenshots)
2. **How to use the booking checklist**
3. **How to set blackout dates**
4. **How to configure overnight times**
5. **How to sort dashboard**

### For Administrators

1. **OAuth setup guide** (Google Cloud Console)
2. **Blackout date management** best practices
3. **Checklist workflow** recommendations
4. **Troubleshooting** OAuth issues

---

## Backward Compatibility

### Data Preservation

**Existing bookings:**
- All data preserved
- Checklist initialized to 0%
- No changes to existing meta

**Existing settings:**
- Blackout dates migrated to CPT
- Overnight times use current defaults
- OAuth is optional (can skip)

### Rollback Safety

**Can rollback to v1.1.14:**
- Blackout CPT data remains (just not displayed)
- Checklist meta remains (just not displayed)
- OAuth tokens cleared
- No data loss

---

## Questions for Final Approval

### 1. Checklist Display in Dashboard
Which option do you prefer?

**Option A: Progress Bar Only (Compact)**
```
| Progress      |
|---------------|
| â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 80% |
```

**Option B: Expandable Details**
```
| Progress      |
|---------------|
| â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 80% | [+]
  â””â”€ When clicked, shows:
     â˜‘ Rental Agreement
     â˜‘ Deposit
     â˜‘ Insurance
     â˜ Key Arrangement
     â˜ Deposit Returned
```

**Option C: Tooltip on Hover**
```
| Progress      |
|---------------|
| â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 80% | <- Hover shows checklist
```

### 2. Blackout Date Reasons
Should each blackout period have a "reason" field?
- Displayed in dashboard?
- Required or optional?

### 3. OAuth Redirect URI
Your site URL is needed for OAuth setup. What is it?
- Example: `https://yourdomain.com`
- This is needed to configure Google Cloud Console

---

## Implementation Approach

Once approved, I'll implement in this order:

1. **Fix booking edit page** (1 hour) - Quick win
2. **Dashboard sorting** (2 hours) - Quick win
3. **Booking checklist** (4 hours) - High value
4. **Overnight times** (5 hours) - Medium complexity
5. **Blackout calendar** (10 hours) - Most complex
6. **OAuth integration** (8 hours) - High value

**Total:** ~30 hours of development + 6 hours testing = **36 hours**

---

**Plan Status:** Ready for Review  
**Awaiting:** User approval and clarification answers  
**Next:** Switch to Code mode for implementation
